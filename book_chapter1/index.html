<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>JS Tasks</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>JavaScript Tasks</h1>
    <div class="card">
      <h2>String Tasks</h2>
      <div class="inputs">
        <input type="text" id="inputString1" placeholder="Enter string 1" />
        <input type="text" id="inputString2" placeholder="Enter string 2 (if needed)" />
      </div>
      <div class="button-column">
        <button onclick="runTask(1)">Check Unique</button>
        <button onclick="runTask(2)">Check Permutation</button>
        <button onclick="runTask(3)">Replace Spaces</button>
        <button onclick="runTask(4)">Palindrome Permutation</button>
        <button onclick="runTask(5)">Edit Distance</button>
        <button onclick="runTask(6)">Compress String</button>
        <button onclick="runTask(9)">Is Rotation</button>
      </div>
      <div id="output" class="output"></div>
    </div>
    <div class="card">
      <h2>Matrix Tasks</h2>
      <textarea id="inputMatrix" rows="5" cols="30" placeholder="Enter matrix, rows separated by newlines, numbers by spaces">1 2 3
4 5 6
7 8 9</textarea>
      <div class="button-column">
        <button onclick="runTask(7)">Rotate Matrix</button>
        <button onclick="runTask(8)">Set Zeros</button>
      </div>
      <div id="matrixOutput" class="matrix-output"></div>
    </div>
  </div>

  <!-- Load external JS task scripts -->
  <script src="task1_uniqueSymbols.js"></script>
  <script src="task2_permutationString.js"></script>
  <script src="task3_replaceSpaces.js"></script>
  <script src="task4_isPalindromePermutation.js"></script>
  <script src="task5_countEditDistance.js"></script>
  <script src="task6_compressString.js"></script>
  <script src="task7_rotateMatrix.js"></script>
  <script src="task8_setZeros.js"></script>
  <script src="task9_isRotation.js"></script>
  <script>
    // Helper to show output and errors
    function showOutput(result, isMatrix = false, error = false) {
      const el = document.getElementById(isMatrix ? 'matrixOutput' : 'output');
      if (error) {
        el.innerHTML = `<span class='error'>${result}</span>`;
      } else {
        el.textContent = result;
      }
    }

    // Main runner for all tasks
    function runTask(taskNum) {
      const s1 = document.getElementById('inputString1').value;
      const s2 = document.getElementById('inputString2').value;
      const matrixInput = document.getElementById('inputMatrix').value;
      try {
        let result = '';
        switch (taskNum) {
          case 1:
            if (!s1) return showOutput('Please enter string 1.', false, true);
            result = isUniqueSymbols(s1);
            break;
          case 2:
            if (!s1 || !s2) return showOutput('Enter both strings.', false, true);
            result = isPermutationString(s1, s2);
            break;
          case 3:
            if (!s1) return showOutput('Please enter string 1.', false, true);
            result = replaceSpaces(s1);
            break;
          case 4:
            if (!s1) return showOutput('Please enter string 1.', false, true);
            result = isPalindromePermutation(s1);
            break;
          case 5:
            if (!s1 || !s2) return showOutput('Enter both strings.', false, true);
            result = countEditDistance(s1, s2);
            break;
          case 6:
            if (!s1) return showOutput('Please enter string 1.', false, true);
            result = compressString(s1);
            break;
          case 7:
            if (!matrixInput) return showOutput('Enter matrix input.', true, true);
            result = rotateMatrix(parseMatrix(matrixInput));
            showOutput(formatMatrix(result), true);
            return;
          case 8:
            if (!matrixInput) return showOutput('Enter matrix input.', true, true);
            result = setZeros(parseMatrix(matrixInput));
            showOutput(formatMatrix(result), true);
            return;
          case 9:
            if (!s1 || !s2) return showOutput('Enter both strings.', false, true);
            result = isRotation(s1, s2);
            break;
          default:
            showOutput('Unknown task.', false, true);
            return;
        }
        showOutput(result);
      } catch (e) {
        showOutput('Error: ' + e.message, taskNum === 7 || taskNum === 8, true);
      }
    }

    // Matrix helpers
    function parseMatrix(str) {
      return str.trim().split(/\n|\r/).map(row => row.trim().split(/\s+/).map(Number));
    }
    function formatMatrix(matrix) {
      return matrix.map(row => row.join(' ')).join('\n');
    }
  </script>
</body>
</html>